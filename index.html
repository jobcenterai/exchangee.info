<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CryptoTracking AI PRO | EURO</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Orbitron',sans-serif;}

body{
background:radial-gradient(circle at top left,#061a14,#0b1f3a 60%);
color:#00ffcc;
padding:40px 20px;
min-height:100vh;
}

h1{text-align:center;font-size:40px;margin-bottom:20px;text-shadow:0 0 15px #00ffaa;}

.section{
max-width:1200px;
margin:25px auto;
background:rgba(8,25,25,0.6);
backdrop-filter:blur(15px);
border:1px solid rgba(0,255,170,0.2);
border-radius:20px;
padding:25px;
}

table{width:100%;border-collapse:collapse;}
th,td{padding:14px;text-align:left;}
th{border-bottom:1px solid rgba(0,255,170,0.2);color:#00ffaa;}
tr:hover{background:rgba(0,255,170,0.05);cursor:pointer;}

.green{color:#00ff88;}
.red{color:#ff4d6d;}
.neutral{color:#ffaa00;}

canvas{height:50px !important;}

.confidence-bar{
height:8px;
border-radius:5px;
background:#0d2a27;
overflow:hidden;
margin-top:5px;
}
.confidence-fill{
height:100%;
background:linear-gradient(90deg,#ff4d6d,#ffaa00,#00ff88);
}

.modal{
display:none;
position:fixed;
top:0;left:0;
width:100%;height:100%;
background:rgba(0,0,0,0.8);
justify-content:center;
align-items:center;
}

.modal-content{
background:#081c1a;
padding:30px;
border-radius:15px;
width:80%;
max-width:900px;
position:relative;
}

.close{
position:absolute;
top:15px;right:20px;
cursor:pointer;
font-size:20px;
color:#ff4d6d;
}

.footer{
margin-top:40px;
text-align:center;
padding:20px;
background:#081c1a;
border-radius:12px;
}

.footer a{color:#00ffcc;margin:0 10px;text-decoration:none;}
</style>
</head>
<body>

<h1>ðŸ¤– CryptoTracking AI PRO</h1>

<div class="section">
<h2>ðŸ“Š AI Market Table (Click Coin for Advanced Chart)</h2>
<table id="cryptoTable">
<thead>
<tr>
<th>Coin</th>
<th>Price (â‚¬)</th>
<th>24h %</th>
<th>AI Signal</th>
<th>Confidence</th>
<th>7D</th>
</tr>
</thead>
<tbody></tbody>
</table>
</div>

<div class="modal" id="chartModal">
<div class="modal-content">
<span class="close" onclick="closeModal()">âœ–</span>
<h2 id="modalTitle"></h2>
<canvas id="modalChart"></canvas>
</div>
</div>

<div class="footer">
<a href="https://discord.gg/yourserver" target="_blank">Discord</a>
<a href="mailto:your@email.com">Email</a>
<a href="https://github.com/yourgithub" target="_blank">GitHub</a>
</div>

<script>
const coins="bitcoin,ethereum,litecoin,ripple,binancecoin,cardano,solana";
let modalChart;

function formatEuro(n){return "â‚¬"+n.toFixed(2);}

function aiLogic(change){
let confidence=Math.min(Math.abs(change)*15,100).toFixed(0);
let signal="Neutral";
let className="neutral";

if(change>2){signal="Bullish â†‘";className="green";}
if(change<-2){signal="Bearish â†“";className="red";}

return {signal,className,confidence};
}

async function fetchData(){
const res=await fetch(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=eur&ids=${coins}&sparkline=true`);
const data=await res.json();
const tbody=document.querySelector("#cryptoTable tbody");
tbody.innerHTML="";

data.forEach(coin=>{
let ai=aiLogic(coin.price_change_percentage_24h);

let row=document.createElement("tr");
row.innerHTML=`
<td>${coin.name}</td>
<td>${formatEuro(coin.current_price)}</td>
<td class="${coin.price_change_percentage_24h>=0?'green':'red'}">
${coin.price_change_percentage_24h.toFixed(2)}%
</td>
<td class="${ai.className}">${ai.signal}</td>
<td>
${ai.confidence}%
<div class="confidence-bar">
<div class="confidence-fill" style="width:${ai.confidence}%"></div>
</div>
</td>
<td><canvas id="chart-${coin.symbol}"></canvas></td>
`;

row.onclick=()=>openModal(coin.name,coin.sparkline_in_7d.price);

tbody.appendChild(row);
createMiniChart(`chart-${coin.symbol}`,coin.sparkline_in_7d.price,coin.price_change_percentage_24h>=0);
});
}

function createMiniChart(id,data,isGreen){
new Chart(document.getElementById(id),{
type:"line",
data:{labels:data,datasets:[{
data:data,
borderColor:isGreen?"#00ff88":"#ff4d6d",
borderWidth:2,
pointRadius:0,
tension:0.3
}]},
options:{plugins:{legend:{display:false}},scales:{x:{display:false},y:{display:false}}}
});
}

function openModal(name,data){
document.getElementById("modalTitle").innerText=name+" â€” 7 Day Chart";
document.getElementById("chartModal").style.display="flex";

if(modalChart) modalChart.destroy();

modalChart=new Chart(document.getElementById("modalChart"),{
type:"line",
data:{labels:data,datasets:[{
data:data,
borderColor:"#00ffaa",
borderWidth:3,
pointRadius:0,
tension:0.3
}]},
options:{
plugins:{legend:{display:false}},
scales:{x:{display:false},y:{ticks:{color:"#00ffcc"}}}
}
});
}

function closeModal(){
document.getElementById("chartModal").style.display="none";
}

fetchData();
setInterval(fetchData,60000);
</script>

</body>
</html>
